mixed-port: 7890
#external-controller: 127.0.0.1:9090
allow-lan: true
tcp-concurrent: true
enable-process: true
find-process-mode: always
mode: rule
log-level: info
ipv6: false # true
bind-address: "*"
keep-alive-interval: 30
unified-delay: false

profile:
  store-selected: true
  store-fake-ip: true

sniffer:
  enable: true
  sniff:
    HTTP:
      ports:
      - 80
      - 8080-8880
      override-destination: true
    TLS:
      ports:
      - 443
      - 8443
    QUIC:
      ports:
      - 443
      - 8443

tun:
  enable: true
  stack: mixed
  dns-hijack:
    - "any:53"
  auto-route: true
  auto-detect-interface: true
  strict-route: true

dns:
  enable: true
  use-hosts: true
  ipv6: false # true
  # listen: 127.0.0.1:6868
  enhanced-mode: redir-host
  default-nameserver:
    - tls://77.88.8.8 # Yandex DNS over TLS
    - 195.208.4.1 # –ù–°–î–ò
  proxy-server-nameserver:
    - tls://77.88.8.8 # Yandex DNS over TLS
    - 195.208.4.1 # –ù–°–î–ò
  direct-nameserver:
    - tls://77.88.8.8 # Yandex DNS over TLS
    - 195.208.4.1 # –ù–°–î–ò
  nameserver:
    - https://cloudflare-dns.com/dns-query #DNS for proxy

proxies: # LEAVE THIS LINE!

proxy-providers:
  russlanddialer: # –¶–µ–ø–æ—á–∫–∞ –∏–∑ –†–§ –≤ –¥—Ä—É–≥–∏–µ —Å—Ç—Ä–∞–Ω—ã
    type: inline
    exclude-filter: "üá∑üá∫|üá≥üá±" # –§–∏–ª—å—Ç—Ä –ø—Ä–æ–∫—Å–∏, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –±—É–¥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–ª—è —Ü–µ–ø–æ—á–∫–∏, –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ RU –∏ —á—Ç–æ-—Ç–æ –ø–æ –≤–∞—à–µ–º—É –≤—ã–±–æ—Ä—É
    remnawave: # –ö–∞—Å—Ç–æ–º–Ω–æ–µ –ø–æ–ª–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–µ —Ç–æ–ª—å–∫–æ –≤ Remnawave (–¥–æ–±–∞–≤–ª—è–µ—Ç –ø—Ä–æ–∫—Å–∏ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ü–µ–ø–æ—á–∫–∏)
      include-proxies: true
    override:
      dialer-proxy: üá∑üá∫ Russia # –ù–∞–∑–≤–∞–Ω–∏–µ —Ö–æ—Å—Ç–∞ –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç —Ü–µ–ø–æ—á–∫–æ–π –¥–ª—è –≤—ã—Ö–æ–¥–∞ –≤ –ï–≤—Ä–æ–ø—É
      additional-prefix: "üá∑üá∫‚û°Ô∏è" # –ü—Ä–∏—Å—Ç–∞–≤–∫–∞ –∫ –Ω–∞–∑–≤–∞–Ω–∏—é –ø—Ä–æ–∫—Å–∏ (–æ–±–æ–∑–Ω–∞—á–∞–µ—Ç –º–æ—Å—Ç –∏–∑ –†–§) —Ç–∞–∫ –∫–∞–∫ –≤ –ø–æ–¥–ø–∏—Å–∫—É –Ω–µ–ª—å–∑—è –¥–æ–±–∞–≤–∏—Ç—å –¥–≤–∞ –ø—Ä–æ–∫—Å–∏ —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º–∏ –∏–º–µ–Ω–∞–º–∏
    payload:

proxy-groups:
  - name: üåç VPN
    icon: https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Hijacking.png
    type: select
    proxies:
      - ‚ö°Ô∏è Fastest
      # LEAVE THIS LINE!
    use: # –î–∞–Ω–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä –¥–æ–±–∞–≤–ª—è–µ—Ç –≤ –≥—Ä—É–ø–ø—É —Ü–µ–ø–æ—á–∫–∏
      - russlanddialer
  - name: ‚ñ∂Ô∏è YouTube # –ü—Ä–æ–∫—Å–∏ –≥—Ä—É–ø–ø–∞ –¥–ª—è –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç—Ä–∞—Ñ–∏–∫–∞ YouTube
    icon: https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/YouTube.png
    type: select
    proxies:
      - üåç VPN
      - ‚ö°Ô∏è Fastest
      - üé≤ –°–ª—É—á–∞–π–Ω—ã–π 
      # LEAVE THIS LINE!
    use: # –î–∞–Ω–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä –¥–æ–±–∞–≤–ª—è–µ—Ç –≤ –≥—Ä—É–ø–ø—É —Ü–µ–ø–æ—á–∫–∏
      - russlanddialer
  - name: üí¨ Discord  # –ü—Ä–æ–∫—Å–∏ –≥—Ä—É–ø–ø–∞ –¥–ª—è –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç—Ä–∞—Ñ–∏–∫–∞ Discord
    icon: https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Discord.png
    type: select
    proxies:
      - üåç VPN
      - ‚ö°Ô∏è Fastest
      - üé≤ –°–ª—É—á–∞–π–Ω—ã–π 
      # LEAVE THIS LINE!
    use: # –î–∞–Ω–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä –¥–æ–±–∞–≤–ª—è–µ—Ç –≤ –≥—Ä—É–ø–ø—É —Ü–µ–ø–æ—á–∫–∏
      - russlanddialer
  - name: üíå Telegram
    icon: https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Telegram.png
    type: select
    proxies:
      - üîì –ë–µ–∑ VPN
      - üåç VPN
      - ‚ö°Ô∏è Fastest
      - üé≤ –°–ª—É—á–∞–π–Ω—ã–π
      # LEAVE THIS LINE!
    use: # –î–∞–Ω–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä –¥–æ–±–∞–≤–ª—è–µ—Ç –≤ –≥—Ä—É–ø–ø—É —Ü–µ–ø–æ—á–∫–∏
      - russlanddialer
  - name: ‚ö°Ô∏è Fastest
    icon: https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Auto.png
    type: url-test
    tolerance: 150
    url: https://cp.cloudflare.com/generate_204
    interval: 300
    include-all: true # –î–æ–±–∞–≤–ª—è–µ—Ç –≤—Å–µ –∏–º–µ—é—â–∏–µ—Å—è –ø—Ä–æ–∫—Å–∏
    exclude-filter: "üá∑üá∫" # –ò—Å–∫–ª—é—á–∞–µ—Ç –∏–∑ –Ω–∏—Ö –†–æ—Å—Å–∏—é
    remnawave: # –ö–∞—Å—Ç–æ–º–Ω–æ–µ –ø–æ–ª–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–µ —Ç–æ–ª—å–∫–æ –≤ Remnawave (–æ—Ç–∫–ª—é—á–∞–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤—Å–µ—Ö –ø—Ä–æ–∫—Å–∏ –≤ –¥–∞–Ω–Ω—É—é —Å–µ–∫—Ü–∏—é, –∫—Ä–æ–º–µ —É–∫–∞–∑–∞–Ω–Ω—ã—Ö –≤—Ä—É—á–Ω—É—é)
      include-proxies: false
    proxies:
      # LEAVE THIS LINE!
  - name: üé≤ –°–ª—É—á–∞–π–Ω—ã–π 
    icon: https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Round_Robin.png
    type: select
    remnawave: # –ö–∞—Å—Ç–æ–º–Ω–æ–µ –ø–æ–ª–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–µ —Ç–æ–ª—å–∫–æ –≤ Remnawave (–¥–æ–±–∞–≤–ª—è–µ—Ç –æ–¥–∏–Ω —Å–ª—É—á–∞–π–Ω—ã–π —Ö–æ—Å—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –¥–∞–Ω–Ω—É—é –≥—Ä—É–ø–ø—É, –º–µ–Ω—è–µ—Ç—Å—è –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –ø–æ–¥–ø–∏—Å–∫–∏)
      select-random-proxy: true
    proxies:
      # LEAVE THIS LINE!
  - name: PROXY
    remnawave:
      include-proxies: false
    type: select
    hidden: true
    proxies:
      - üåç VPN
  - name: üîì –ë–µ–∑ VPN
    remnawave:
      include-proxies: false
    type: select
    hidden: true
    proxies:
      - DIRECT
  
rule-providers:
  telegram_domains:
    type: http
    behavior: domain
    format: mrs
    url: https://github.com/MetaCubeX/meta-rules-dat/raw/meta/geo/geosite/telegram.mrs
    path: ./rule-sets/telegram_domains.mrs
  telegram_ips:
    type: http
    behavior: ipcidr
    format: mrs
    url: https://github.com/MetaCubeX/meta-rules-dat/raw/meta/geo/geoip/telegram.mrs
    path: ./rule-sets/telegram_ips.mrs
  discord_domains:
    type: http
    behavior: domain
    format: mrs
    url: https://github.com/MetaCubeX/meta-rules-dat/raw/meta/geo/geosite/discord.mrs
    path: ./rule-sets/discord_domains.mrs
  discord_voiceips:
    type: http
    behavior: ipcidr
    format: mrs
    url: https://cdn.jsdelivr.net/gh/legiz-ru/mihomo-rule-sets@main/other/discord-voice-ip-list.mrs
    path: ./rule-sets/discord_voiceips.mrs
  youtube:
    type: http
    behavior: domain
    format: mrs
    url: https://github.com/MetaCubeX/meta-rules-dat/raw/meta/geo/geosite/youtube.mrs
    path: ./rule-sets/youtube.mrs
  torrent-trackers:
    type: http
    behavior: domain
    format: mrs
    url: https://github.com/legiz-ru/mihomo-rule-sets/raw/main/other/torrent-trackers.mrs
    path: ./rule-sets/torrent-trackers.mrs
    interval: 86400
  torrent-clients:
    type: http
    behavior: classical
    format: yaml
    url: https://github.com/legiz-ru/mihomo-rule-sets/raw/main/other/torrent-clients.yaml
    path: ./rule-sets/torrent-clients.yaml
    interval: 86400
  oisd_big:
    type: http
    behavior: domain
    format: mrs
    url: https://github.com/legiz-ru/mihomo-rule-sets/raw/main/oisd/big.mrs
    path: ./oisd/big.mrs
    interval: 86400
  ru-bundle:
    type: http
    behavior: domain
    format: mrs
    url: https://github.com/legiz-ru/mihomo-rule-sets/raw/main/ru-bundle/rule.mrs
    path: ./ru-bundle/rule.mrs
    interval: 86400
  refilter_domains:
    type: http
    behavior: domain
    format: mrs
    url: https://github.com/legiz-ru/mihomo-rule-sets/raw/main/re-filter/domain-rule.mrs
    path: ./re-filter/domain-rule.mrs
    interval: 86400
  refilter_ipsum:
    type: http
    behavior: ipcidr
    format: mrs
    url: https://github.com/legiz-ru/mihomo-rule-sets/raw/main/re-filter/ip-rule.mrs
    path: ./re-filter/ip-rule.mrs
    interval: 86400
rules: # –í–°–ï –ü–†–ê–í–ò–õ–ê –ó–ê–ö–û–ú–ï–ù–¢–ò–†–û–í–ê–ù–´ –í–ê–ú –¢–†–ï–ë–£–ï–¢–°–Ø –í–´–ë–†–ê–¢–¨ –ù–£–ñ–ù–û–ï
  # - OR,((RULE-SET,discord_domains),(RULE-SET,discord_voiceips),(PROCESS-NAME,Discord.exe)),üí¨ Discord
  # - RULE-SET,youtube,‚ñ∂Ô∏è YouTube 
  # - OR,((RULE-SET,telegram_domains),(RULE-SET,telegram_ips)),üíå Telegram
  # - OR,((DOMAIN,ipwhois.app),(DOMAIN,ipwho.is),(DOMAIN,api.ip.sb),(DOMAIN,ipapi.co),(DOMAIN,ipinfo.io)),üåç VPN # IP Checker FlClash and Pandora-Box
  # - OR,((RULE-SET,torrent-clients),(RULE-SET,torrent-trackers)),üîì –ë–µ–∑ VPN # –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –¥–∏—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–æ—Ä—Ä–µ–Ω—Ç —Ç—Ä–µ–∫–µ—Ä–æ–≤ –∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
  # - RULE-SET,oisd_big,REJECT
  # - PROCESS-NAME,org.cromite.cromite,üåç VPN #Cromite Android Browser
  # - RULE-SET,ru-bundle,üåç VPN
  # - RULE-SET,refilter_domains,üåç VPN
  # - RULE-SET,refilter_ipsum,üåç VPN
  - MATCH,üîì –ë–µ–∑ VPN
